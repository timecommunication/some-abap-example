PARAMETERS: LV_PARA TYPE I.

DATA LV_TOTAL_NUM TYPE I VALUE 10.
DATA LV_CURRENT_NUM TYPE I VALUE 0.

DATA LV_PERCENTAGE TYPE I VALUE 0.

WHILE LV_CURRENT_NUM < LV_TOTAL_NUM .

  LV_CURRENT_NUM += 1.

  LV_PERCENTAGE = LV_CURRENT_NUM * 100 / LV_TOTAL_NUM .

  DATA(LV_STR) = | 已经处理了 { LV_CURRENT_NUM } / { LV_TOTAL_NUM } 条数据|.

  " 使用这个函数 传入 0~100 的PERCENTAGE 和 指示文本 TEXT 显示程序处理进度
  CALL FUNCTION 'SAPGUI_PROGRESS_INDICATOR'
   EXPORTING
     PERCENTAGE       = LV_PERCENTAGE
     TEXT             = LV_STR.

  WAIT UP TO  1 SECONDS .

ENDWHILE.

WRITE: 'FINISHED'.